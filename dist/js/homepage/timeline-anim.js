/* RSM Scripts - Minified */
!function(){function e(){if(console.log("[Timeline] initTimelineAnimation called"),"loading"===document.readyState)return console.log("[Timeline] DOM not ready, waiting..."),void document.addEventListener("DOMContentLoaded",e);if(window.innerWidth<768)return void console.log("[Timeline] Mobile viewport, skipping");if(!window.gsap||!window.ScrollTrigger)return void console.warn("[Timeline] GSAP or ScrollTrigger not loaded");if(gsap.registerPlugin(ScrollTrigger),console.log("[Timeline] GSAP ready, checking jQuery..."),console.log("[Timeline] $ type:",typeof $,"jQuery type:",typeof jQuery),void 0===window.$&&void 0===window.jQuery)return void console.error("[Timeline] jQuery not loaded!");console.log("[Timeline] jQuery available, looking for elements...");const n=$(".timeline_component"),o=$('[data-animation="timeline-progress"]'),i=$(".timeline_row");if(console.log("[Timeline] Elements found:",{component:n.length,progressLine:o.length,rows:i.length}),0===n.length||0===o.length)return void console.warn("[Timeline] Required elements not found");gsap.set(o[0],{height:"0%"}),gsap.set(i,{opacity:0,y:30});const t=o.parent(),r=gsap.timeline({paused:!0});function a(e){const n=e.offset().top+e.outerHeight()/2,o=t.offset().top,i=t.outerHeight(),r=n-o;return Math.max(0,Math.min(1,r/i))}r.to(o[0],{height:"100%",ease:"none",duration:1}),i.each(function(e){const n=$(this),o=n.find(".timeline_circle"),t=a(n.find(".timeline_circle-wrapper"));ScrollTrigger.create({trigger:n[0],start:"top 75%",end:"top 25%",onEnter:()=>{gsap.to(n[0],{opacity:1,y:0,duration:.5,ease:"power2.out"}),o.length>0&&gsap.to(o[0],{scale:1,backgroundColor:"#EA559A",duration:.3,ease:"back.out(1.7)"}),gsap.to(r,{progress:t,duration:.5,ease:"power2.out"})},onLeaveBack:()=>{gsap.to(n[0],{opacity:0,y:30,duration:.3}),o.length>0&&gsap.to(o[0],{scale:.5,backgroundColor:"#cccccc",duration:.3});const t=e>0?a(i.eq(e-1).find(".timeline_circle-wrapper")):0;gsap.to(r,{progress:t,duration:.3})}})}),setTimeout(function(){if(window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(e){}},100),function(){let e=window.innerWidth,n=window.innerHeight,o=null;$(window).on("resize",function(){if(!window.ScrollTrigger)return;const i=window.innerWidth,t=window.innerHeight,r=Math.abs(i-e),a=Math.abs(t-n);if(e=i,n=t,i<1024&&r<=2&&a>0&&a<=220)return clearTimeout(o),void(o=setTimeout(function(){try{ScrollTrigger.refresh()}catch(e){}},400));ScrollTrigger.refresh()})}()}!function(){if(window.AnimationManager&&"function"==typeof window.AnimationManager.onReady)window.AnimationManager.onReady(e);else{let n=0;const o=100,i=setInterval(function(){n++,window.AnimationManager&&"function"==typeof window.AnimationManager.onReady?(clearInterval(i),window.AnimationManager.onReady(e)):n>=o&&(clearInterval(i),console.error("AnimationManager not loaded for timeline-anim"))},50)}}()}();
//# sourceMappingURL=timeline-anim.js.map