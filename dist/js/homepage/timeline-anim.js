/* RSM Scripts - Minified */
!function(){const e=40;function n(n={}){return window.RSMVisibility?.createFullVisibilityObserver?window.RSMVisibility.createFullVisibilityObserver(n):function(n={}){if("undefined"==typeof IntersectionObserver)return{observe(e){e&&"function"==typeof n.onEnter&&n.onEnter(e,{fallback:!0})},unobserve(){},disconnect(){}};const{offset:t=e,once:o=!1,onEnter:i,onLeave:r}=n,a=new WeakMap,c=new WeakMap;let s;function d(e){const n=c.get(e);n&&(cancelAnimationFrame(n),c.delete(e))}return s=new IntersectionObserver(e=>{e.forEach(e=>{const n=e.target,u=!0===a.get(n);e.isIntersecting?u||c.has(n)||function(e,n){if(!e||!document.body.contains(e))return;const r=()=>{const u=e.getBoundingClientRect(),l=window.innerHeight||document.documentElement?.clientHeight||0,f=u.height+2*t<=l;if(l&&(f?u.top>=t&&u.bottom<=l-t:u.top>=t)){if(d(e),!0===a.get(e))return;a.set(e,!0),"function"==typeof i&&i(e,{entry:n?.entry,rect:u,viewportHeight:l}),o&&s&&(s.unobserve(e),a.delete(e))}else if(document.body.contains(e)){const n=requestAnimationFrame(r);c.set(e,n)}};d(e);const u=requestAnimationFrame(r);c.set(e,u)}(n,{entry:e}):(d(n),u&&(a.set(n,!1),o||"function"!=typeof r||r(n,{entry:e})))})},{threshold:[0,.25,.5,.75,1]}),{observe(e){e&&s.observe(e)},unobserve(e){e&&(d(e),s.unobserve(e))},disconnect(){s.disconnect()}}}(n)}function t(){if("loading"===document.readyState)return void document.addEventListener("DOMContentLoaded",t);if(window.innerWidth<768)return;if(!window.gsap)return;if(void 0===window.$&&void 0===window.jQuery)return;const o=$(".timeline_component"),i=$('[data-animation="timeline-progress"]'),r=$(".timeline_row");if(0===o.length||0===i.length)return;gsap.set(i[0],{height:"0%"}),gsap.set(r,{opacity:0,y:30});const a=i.parent(),c=gsap.timeline({paused:!0});c.to(i[0],{height:"100%",ease:"none",duration:1});const s=new WeakMap,d=[];let u=null,l="down";function f(e){const n=s.get(e);n&&!n.active&&(n.active=!0,gsap.to(e,{opacity:1,y:0,duration:.5,ease:"power2.out"}),n.circle&&gsap.to(n.circle,{scale:1,backgroundColor:"#EA559A",duration:.3,ease:"back.out(1.7)"}),gsap.to(c,{progress:n.targetProgress,duration:.5,ease:"power2.out"}))}function w(e){if("up"!==l)return;const n=s.get(e);n&&n.active&&(n.active=!1,gsap.to(e,{opacity:0,y:30,duration:.3}),n.circle&&gsap.to(n.circle,{scale:.5,backgroundColor:"#cccccc",duration:.3}),gsap.to(c,{progress:n.prevProgress,duration:.3}))}function g(){u=n({offset:e,onEnter:f,onLeave:w}),r.each(function(e){const n=$(this),t=n.find(".timeline_circle"),o=function(e){const n=e.offset().top+e.outerHeight()/2,t=a.offset().top,o=a.outerHeight(),i=n-t;return Math.max(0,Math.min(1,i/o))}(n.find(".timeline_circle-wrapper")),i=e>0?d[e-1]:0;d[e]=o;const r={index:e,circle:t.length>0?t[0]:null,targetProgress:o,prevProgress:i,active:!1};s.set(n[0],r),u?u.observe(n[0]):f(n[0])})}!function(){if("undefined"==typeof window)return;let e=window.scrollY||window.pageYOffset||0;window.addEventListener("scroll",()=>{const n=window.scrollY||window.pageYOffset||0;l=n<e?"up":"down",e=n},{passive:!0})}(),"complete"===document.readyState?setTimeout(g,500):window.addEventListener("load",()=>setTimeout(g,500))}!function(){if(window.AnimationManager&&"function"==typeof window.AnimationManager.onReady)window.AnimationManager.onReady(t);else{let e=0;const n=100,o=setInterval(function(){e++,window.AnimationManager&&"function"==typeof window.AnimationManager.onReady?(clearInterval(o),window.AnimationManager.onReady(t)):e>=n&&clearInterval(o)},50)}}()}();
//# sourceMappingURL=timeline-anim.js.map