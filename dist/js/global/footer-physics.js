/* RSM Scripts - Minified */
$(document).ready(function(){let t=new Map;if(window.AnimationManager&&"function"==typeof window.AnimationManager.onReady)e();else{let t=0;const o=100,n=setInterval(function(){t++,window.AnimationManager&&"function"==typeof window.AnimationManager.onReady?(clearInterval(n),e()):t>=o&&(clearInterval(n),console.error("AnimationManager not loaded for footer-physics"))},50)}function e(){gsap.registerPlugin(ScrollTrigger),function(){const e=document.querySelectorAll("[data-physics]");0!==e.length?e.forEach((e,o)=>{let n=null;if(n=e.classList.contains("physics_wrapper")?e:e.querySelector(".physics_wrapper"),!n)return void console.error("Physics wrapper not found - [data-physics] element should either be .physics_wrapper or contain .physics_wrapper");n.querySelectorAll(".physics_icon").forEach(t=>{t.style.opacity="0",t.style.visibility="hidden"});const r=`physics-${o}`;ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onUpdate:e=>{if(Math.round(100*e.progress)>=20&&!t.has(r)){const e=function(t){if(!t)return null;const e=Matter.Engine.create(),o=e.world;e.world.gravity.y=1;const n=t.offsetWidth,r=t.offsetHeight,i=Matter.Bodies.rectangle(n/2,r-5,n,10,{isStatic:!0,restitution:.9}),s=Matter.Bodies.rectangle(5,r/2,10,r,{isStatic:!0,restitution:.8}),a=Matter.Bodies.rectangle(n-5,r/2,10,r,{isStatic:!0,restitution:.8});Matter.World.add(o,[i,s,a]);const l=Matter.Runner.create();return Matter.Runner.run(l,e),{engine:e,world:o,runner:l,bodies:[]}}(n);e&&(function(t,e){const o=t.querySelectorAll(".physics_icon");if(!t||0===o.length)return void console.error("Wrapper or icons not found");t.offsetHeight;const n=t.offsetWidth;o.forEach((o,r)=>{if(!o||!o.offsetWidth||!o.offsetHeight)return void console.warn(`Skipping invalid icon at index ${r}`);const i=Math.random()*Math.max(0,n-o.offsetWidth);o.style.left=`${i}px`,o.style.top=-100-50*r+"px",o.style.visibility="visible";const s=Matter.Bodies.rectangle(i+o.offsetWidth/2,-100-50*r,o.offsetWidth,o.offsetHeight,{restitution:.8,friction:.4,frictionAir:.01,density:.001});e.bodies.push({element:o,body:s}),Matter.World.add(e.world,s),function(t,e,o,n){let r=!1,i=null,s={x:0,y:0};t.style.cursor="grab",t.style.transition="transform 0.1s ease",t.addEventListener("mousedown",a=>{a.preventDefault(),r=!0,t.style.cursor="grabbing",t.style.transform+=" scale(1.1)";const l=o.getBoundingClientRect(),c=t.getBoundingClientRect();s.x=a.clientX-(c.left+c.width/2),s.y=a.clientY-(c.top+c.height/2);const d=a.clientX-l.left,f=a.clientY-l.top;i=Matter.Constraint.create({bodyA:e,pointB:{x:d,y:f},stiffness:.9,damping:.05,length:0}),Matter.World.add(n.world,i),e.frictionAir=.1}),document.addEventListener("mousemove",t=>{if(r&&i){const e=o.getBoundingClientRect(),n=t.clientX-e.left-s.x,r=t.clientY-e.top-s.y;i.pointB={x:n,y:r}}}),document.addEventListener("mouseup",()=>{if(r){r=!1,t.style.cursor="grab",t.style.transform=t.style.transform.replace(" scale(1.1)",""),i&&(Matter.World.remove(n.world,i),i=null),e.frictionAir=.01;const o={x:.01*(Math.random()-.5),y:.01*(Math.random()-.5)};Matter.Body.applyForce(e,e.position,o)}}),document.addEventListener("mouseleave",()=>{r&&(r=!1,t.style.cursor="grab",t.style.transform=t.style.transform.replace(" scale(1.1)",""),i&&(Matter.World.remove(n.world,i),i=null),e.frictionAir=.01)}),t.addEventListener("mouseenter",()=>{r||(t.style.transform+=" scale(1.05)")}),t.addEventListener("mouseleave",()=>{r||(t.style.transform=t.style.transform.replace(" scale(1.05)",""))})}(o,s,t,e),gsap.to(o,{opacity:1,duration:.6,delay:.1*r,ease:"power2.out"})}),function o(){try{if(!t||!t.isConnected)return;if(!e||!e.bodies||!Array.isArray(e.bodies))return;if(0===e.bodies.length)return;const n=t.offsetHeight,r=t.offsetWidth;e.bodies.forEach((t,e)=>{if(!t||!t.element||!t.body)return void console.warn(`Invalid body data at index ${e}, skipping`);const{element:o,body:i}=t;if(!o||!i||!i.position)return void console.warn(`Invalid element or body at index ${e}, skipping`);let s=i.position.x-o.offsetWidth/2,a=i.position.y-o.offsetHeight/2;s=Math.max(-10,Math.min(s,r-o.offsetWidth+10)),a=Math.max(-50,Math.min(a,n-o.offsetHeight+5)),o.style.left=`${s}px`,o.style.top=`${a}px`,o.style.transform=`rotate(${i.angle}rad)`}),requestAnimationFrame(o)}catch(n){console.error("Animation loop error:",n)}}()}(n,e),t.set(r,e))}}})}):console.error("No [data-physics] elements found")}()}});
//# sourceMappingURL=footer-physics.js.map