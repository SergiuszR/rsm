/* RSM Scripts - Minified */
!function(){"use strict";let e=new Map;!function t(){if(console.log("[Physics] initPhysicsSystem called"),"loading"===document.readyState)return console.log("[Physics] DOM not ready, waiting..."),void document.addEventListener("DOMContentLoaded",t);!function t(){if(console.log("[Physics] waitAndInit called, AnimationManager:",!!window.AnimationManager),window.AnimationManager&&"function"==typeof window.AnimationManager.onReady)window.AnimationManager.onReady(function(){console.log("[Physics] AnimationManager.onReady callback fired"),console.log("[Physics] gsap:",!!window.gsap,"ScrollTrigger:",!!window.ScrollTrigger,"Matter:",!!window.Matter),window.gsap&&window.ScrollTrigger?window.Matter?(gsap.registerPlugin(ScrollTrigger),function(){console.log("[Physics] initScrollTrigger called");const t=document.querySelectorAll("[data-physics]");console.log("[Physics] Found",t.length,"[data-physics] elements"),0!==t.length?t.forEach((t,o)=>{let n=null;if(n=t.classList.contains("physics_wrapper")?t:t.querySelector(".physics_wrapper"),!n)return void console.error("Physics wrapper not found - [data-physics] element should either be .physics_wrapper or contain .physics_wrapper");n.querySelectorAll(".physics_icon").forEach(e=>{e.style.opacity="0",e.style.visibility="hidden"});const r=`physics-${o}`;console.log("[Physics] Creating ScrollTrigger for element",o),ScrollTrigger.create({trigger:t,start:"top 80%",once:!0,onEnter:()=>{if(console.log("[Physics] ScrollTrigger fired for element",o),!e.has(r)){const t=function(e){if(!e)return null;const t=Matter.Engine.create(),o=t.world;t.world.gravity.y=1;const n=e.offsetWidth,r=e.offsetHeight,i=Matter.Bodies.rectangle(n/2,r-5,n,10,{isStatic:!0,restitution:.9}),s=Matter.Bodies.rectangle(5,r/2,10,r,{isStatic:!0,restitution:.8}),a=Matter.Bodies.rectangle(n-5,r/2,10,r,{isStatic:!0,restitution:.8});Matter.World.add(o,[i,s,a]);const l=Matter.Runner.create();return Matter.Runner.run(l,t),{engine:t,world:o,runner:l,bodies:[]}}(n);t&&(function(e,t){const o=e.querySelectorAll(".physics_icon");if(!e||0===o.length)return void console.error("Wrapper or icons not found");e.offsetHeight;const n=e.offsetWidth;o.forEach((o,r)=>{if(!o||!o.offsetWidth||!o.offsetHeight)return void console.warn(`Skipping invalid icon at index ${r}`);const i=Math.random()*Math.max(0,n-o.offsetWidth);o.style.left=`${i}px`,o.style.top=-100-50*r+"px",o.style.visibility="visible";const s=Matter.Bodies.rectangle(i+o.offsetWidth/2,-100-50*r,o.offsetWidth,o.offsetHeight,{restitution:.8,friction:.4,frictionAir:.01,density:.001});t.bodies.push({element:o,body:s}),Matter.World.add(t.world,s),function(e,t,o,n){let r=!1,i=null,s={x:0,y:0};e.style.cursor="grab",e.style.transition="transform 0.1s ease",e.addEventListener("mousedown",a=>{a.preventDefault(),r=!0,e.style.cursor="grabbing",e.style.transform+=" scale(1.1)";const l=o.getBoundingClientRect(),c=e.getBoundingClientRect();s.x=a.clientX-(c.left+c.width/2),s.y=a.clientY-(c.top+c.height/2);const d=a.clientX-l.left,f=a.clientY-l.top;i=Matter.Constraint.create({bodyA:t,pointB:{x:d,y:f},stiffness:.9,damping:.05,length:0}),Matter.World.add(n.world,i),t.frictionAir=.1}),document.addEventListener("mousemove",e=>{if(r&&i){const t=o.getBoundingClientRect(),n=e.clientX-t.left-s.x,r=e.clientY-t.top-s.y;i.pointB={x:n,y:r}}}),document.addEventListener("mouseup",()=>{if(r){r=!1,e.style.cursor="grab",e.style.transform=e.style.transform.replace(" scale(1.1)",""),i&&(Matter.World.remove(n.world,i),i=null),t.frictionAir=.01;const o={x:.01*(Math.random()-.5),y:.01*(Math.random()-.5)};Matter.Body.applyForce(t,t.position,o)}}),document.addEventListener("mouseleave",()=>{r&&(r=!1,e.style.cursor="grab",e.style.transform=e.style.transform.replace(" scale(1.1)",""),i&&(Matter.World.remove(n.world,i),i=null),t.frictionAir=.01)}),e.addEventListener("mouseenter",()=>{r||(e.style.transform+=" scale(1.05)")}),e.addEventListener("mouseleave",()=>{r||(e.style.transform=e.style.transform.replace(" scale(1.05)",""))})}(o,s,e,t),gsap.to(o,{opacity:1,duration:.6,delay:.1*r,ease:"power2.out"})}),function o(){try{if(!e||!e.isConnected)return;if(!t||!t.bodies||!Array.isArray(t.bodies))return;if(0===t.bodies.length)return;const n=e.offsetHeight,r=e.offsetWidth;t.bodies.forEach((e,t)=>{if(!e||!e.element||!e.body)return void console.warn(`Invalid body data at index ${t}, skipping`);const{element:o,body:i}=e;if(!o||!i||!i.position)return void console.warn(`Invalid element or body at index ${t}, skipping`);let s=i.position.x-o.offsetWidth/2,a=i.position.y-o.offsetHeight/2;s=Math.max(-10,Math.min(s,r-o.offsetWidth+10)),a=Math.max(-50,Math.min(a,n-o.offsetHeight+5)),o.style.left=`${s}px`,o.style.top=`${a}px`,o.style.transform=`rotate(${i.angle}rad)`}),requestAnimationFrame(o)}catch(n){console.error("Animation loop error:",n)}}()}(n,t),e.set(r,t))}}})}):console.warn("[Physics] No [data-physics] elements found")}(),setTimeout(function(){if(window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(e){}},100)):console.warn("[Physics] Matter.js not loaded"):console.warn("[Physics] GSAP or ScrollTrigger not loaded")});else{let e=0;const o=100,n=setInterval(function(){e++,window.AnimationManager&&"function"==typeof window.AnimationManager.onReady?(clearInterval(n),t()):e>=o&&(clearInterval(n),console.error("AnimationManager not loaded for footer-physics"))},50)}}()}()}();
//# sourceMappingURL=footer-physics.js.map