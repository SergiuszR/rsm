/* RSM Scripts - Minified */
!function(){"use strict";window.AnimationManager={initialized:!1,readyCallbacks:[],contentLoadedCallbacks:[],scriptsLoaded:0,totalScripts:0,_mobileResizeGuardsConfigured:!1,onReady:function(e){this.initialized&&window.gsap&&window.ScrollTrigger?e():this.readyCallbacks.push(e)},onContentLoaded:function(e){this.contentLoadedCallbacks.push(e)},init:function(){if(this.initialized)return;const e=()=>{window.gsap&&window.ScrollTrigger?(this.initialized=!0,gsap.registerPlugin(ScrollTrigger),this.setupMobileResizeGuards(),this.readyCallbacks.forEach((e,i)=>{try{e()}catch(t){console.error(`Animation callback error (callback #${i}):`,t)}}),this.readyCallbacks=[],this.setupContentLoadedDetection()):setTimeout(e,50)};e()},setupContentLoadedDetection:function(){let e=!1;const i=()=>{e||(e=!0,setTimeout(()=>{if(window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(e){}this.contentLoadedCallbacks.forEach(i=>{try{i()}catch(e){console.error("Content loaded callback error:",e)}}),this.contentLoadedCallbacks=[]},300),window.ScrollTrigger&&(setTimeout(function(){try{ScrollTrigger.refresh()}catch(e){}},800),setTimeout(function(){try{ScrollTrigger.refresh()}catch(e){}},1500)))};"complete"===document.readyState?i():window.addEventListener("load",i),setTimeout(i,2e3);try{document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{if(window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(e){}})}catch(t){}try{document.addEventListener("visibilitychange",function(){if("visible"===document.visibilityState&&window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(t){}})}catch(t){}},refreshScrollTrigger:function(){window.ScrollTrigger&&requestAnimationFrame(()=>{ScrollTrigger.refresh()})},scriptLoaded:function(e){this.scriptsLoaded++,this.totalScripts>0&&this.scriptsLoaded>=this.totalScripts&&this.refreshScrollTrigger()},setupMobileResizeGuards:function(){if(this._mobileResizeGuardsConfigured||!window.ScrollTrigger)return;this._mobileResizeGuardsConfigured=!0;try{"function"==typeof ScrollTrigger.config&&ScrollTrigger.config({ignoreMobileResize:!0})}catch(c){}const e={toolbarActive:!1,timer:null,refreshQueued:!1,lastVVWidth:window.visualViewport&&window.visualViewport.width||window.innerWidth,lastVVHeight:window.visualViewport&&window.visualViewport.height||window.innerHeight,originalRefresh:ScrollTrigger.refresh,resizePatched:!1};function i(){return window.innerWidth<=1024}function t(){if(e.refreshQueued){e.refreshQueued=!1;try{e.originalRefresh.call(ScrollTrigger)}catch(c){}}}function r(){e.toolbarActive=!1,t()}function n(t,n){const o=Math.abs(t-e.lastVVWidth),a=Math.abs(n-e.lastVVHeight);e.lastVVWidth=t,e.lastVVHeight=n,o<=1&&a>0&&a<=240&&i()&&(e.toolbarActive=!0,clearTimeout(e.timer),e.timer=setTimeout(r,450))}ScrollTrigger.refresh=function(){if(!e.toolbarActive||!i())return e.originalRefresh.apply(this,arguments);e.refreshQueued=!0};const o=window.addEventListener.bind(window);if(window.visualViewport&&"function"==typeof window.visualViewport.addEventListener)try{window.visualViewport.addEventListener("resize",function(){n(window.visualViewport.width,window.visualViewport.height)},{passive:!0})}catch(c){}else try{o("resize",function(){n(window.innerWidth,window.innerHeight)},{passive:!0})}catch(c){}!function(){if(e.resizePatched)return;e.resizePatched=!0;const t=window.addEventListener.bind(window),r=window.removeEventListener.bind(window),n=new WeakMap;function o(e){return"boolean"==typeof e?e:!(!e||"object"!=typeof e||!e.capture)}function a(){return e.toolbarActive&&i()}function c(e,i){return Boolean(e&&e.__rsmAllowToolbarResize||i&&i.__rsmAllowToolbarResize)}window.addEventListener=function(e,i,r){if("resize"===e&&i&&!c(i,r)){const c=function(e){return"function"==typeof e?function(i){if(!a())return e.call(this,i)}:e&&"function"==typeof e.handleEvent?{handleEvent:function(i){if(!a())return e.handleEvent.call(e,i)}}:e}(i),s=o(r),l=n.get(i)||[];return l.push({wrapped:c,capture:s}),n.set(i,l),t(e,c,r)}return t(e,i,r)},window.removeEventListener=function(e,i,t){if("resize"===e&&i&&!c(i,t)&&n.has(i)){const a=n.get(i);if(!a||0===a.length)return r(e,i,t);const c=o(t),s=a.findIndex(e=>e.capture===c),l=s>=0?a.splice(s,1)[0]:a.pop();return 0===a.length?n.delete(i):n.set(i,a),l&&l.wrapped?r(e,l.wrapped,t):r(e,i,t)}return r(e,i,t)}}();const a=()=>{window.ScrollTrigger&&setTimeout(()=>{e.toolbarActive=!1,t();try{e.originalRefresh.call(ScrollTrigger)}catch(c){}},350)};try{window.addEventListener("orientationchange",a,{passive:!0})}catch(c){}}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.AnimationManager.init()}):window.AnimationManager.init()}();
//# sourceMappingURL=anim-init.js.map