/* RSM Scripts - Minified */
!function(){"use strict";window.AnimationManager={initialized:!1,readyCallbacks:[],contentLoadedCallbacks:[],scriptsLoaded:0,totalScripts:0,_mobileResizeGuardsConfigured:!1,onReady:function(e){this.initialized&&window.gsap&&window.ScrollTrigger?e():this.readyCallbacks.push(e)},onContentLoaded:function(e){this.contentLoadedCallbacks.push(e)},init:function(){if(this.initialized)return;const e=()=>{window.gsap&&window.ScrollTrigger?(this.initialized=!0,gsap.registerPlugin(ScrollTrigger),this.setupMobileResizeGuards(),this.readyCallbacks.forEach((e,i)=>{try{e()}catch(t){console.error(`Animation callback error (callback #${i}):`,t)}}),this.readyCallbacks=[],this.setupContentLoadedDetection()):setTimeout(e,50)};e()},setupContentLoadedDetection:function(){let e=!1;const i=()=>{e||(e=!0,setTimeout(()=>{if(window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(e){}this.contentLoadedCallbacks.forEach(i=>{try{i()}catch(e){console.error("Content loaded callback error:",e)}}),this.contentLoadedCallbacks=[]},300),window.ScrollTrigger&&(setTimeout(function(){try{ScrollTrigger.refresh()}catch(e){}},800),setTimeout(function(){try{ScrollTrigger.refresh()}catch(e){}},1500)))};"complete"===document.readyState?i():window.addEventListener("load",i),setTimeout(i,2e3);try{document.fonts&&document.fonts.ready&&document.fonts.ready.then(()=>{if(window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(e){}})}catch(t){}try{document.addEventListener("visibilitychange",function(){if("visible"===document.visibilityState&&window.ScrollTrigger)try{ScrollTrigger.refresh()}catch(t){}})}catch(t){}},refreshScrollTrigger:function(){window.ScrollTrigger&&requestAnimationFrame(()=>{ScrollTrigger.refresh()})},scriptLoaded:function(e){this.scriptsLoaded++,this.totalScripts>0&&this.scriptsLoaded>=this.totalScripts&&this.refreshScrollTrigger()},setupMobileResizeGuards:function(){if(this._mobileResizeGuardsConfigured||!window.ScrollTrigger)return;this._mobileResizeGuardsConfigured=!0;const e=window.matchMedia&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window;try{"function"==typeof ScrollTrigger.config&&(ScrollTrigger.config({ignoreMobileResize:!0}),e&&ScrollTrigger.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"}))}catch(l){}const i={toolbarActive:!1,timer:null,refreshQueued:!1,lastVVWidth:window.visualViewport&&window.visualViewport.width||window.innerWidth,lastVVHeight:window.visualViewport&&window.visualViewport.height||window.innerHeight,originalRefresh:ScrollTrigger.refresh,resizePatched:!1,normalizer:null};if(e&&"function"==typeof ScrollTrigger.normalizeScroll)try{i.normalizer=ScrollTrigger.normalizeScroll({allowNestedScroll:!0,lockAxis:!1,momentum:.85,speed:1,type:"touch,wheel",target:window,disable:()=>!t()})}catch(l){}function t(){return window.innerWidth<=1024}function r(){if(i.refreshQueued){i.refreshQueued=!1;try{i.originalRefresh.call(ScrollTrigger)}catch(l){}}}function n(){i.toolbarActive=!1,r()}function o(e,r){const o=Math.abs(e-i.lastVVWidth),a=Math.abs(r-i.lastVVHeight);i.lastVVWidth=e,i.lastVVHeight=r,o<=1&&a>0&&a<=240&&t()&&(i.toolbarActive=!0,clearTimeout(i.timer),i.timer=setTimeout(n,450))}ScrollTrigger.refresh=function(){if(!i.toolbarActive||!t())return i.originalRefresh.apply(this,arguments);i.refreshQueued=!0};const a=window.addEventListener.bind(window);if(window.visualViewport&&"function"==typeof window.visualViewport.addEventListener)try{window.visualViewport.addEventListener("resize",function(){o(window.visualViewport.width,window.visualViewport.height)},{passive:!0})}catch(l){}else try{a("resize",function(){o(window.innerWidth,window.innerHeight)},{passive:!0})}catch(l){}!function(){if(i.resizePatched)return;i.resizePatched=!0;const e=window.addEventListener.bind(window),r=window.removeEventListener.bind(window),n=new WeakMap;function o(e){return"boolean"==typeof e?e:!(!e||"object"!=typeof e||!e.capture)}function a(){return i.toolbarActive&&t()}function c(e,i){return Boolean(e&&e.__rsmAllowToolbarResize||i&&i.__rsmAllowToolbarResize)}window.addEventListener=function(i,t,r){if("resize"===i&&t&&!c(t,r)){const c=function(e){return"function"==typeof e?function(i){if(!a())return e.call(this,i)}:e&&"function"==typeof e.handleEvent?{handleEvent:function(i){if(!a())return e.handleEvent.call(e,i)}}:e}(t),l=o(r),s=n.get(t)||[];return s.push({wrapped:c,capture:l}),n.set(t,s),e(i,c,r)}return e(i,t,r)},window.removeEventListener=function(e,i,t){if("resize"===e&&i&&!c(i,t)&&n.has(i)){const a=n.get(i);if(!a||0===a.length)return r(e,i,t);const c=o(t),l=a.findIndex(e=>e.capture===c),s=l>=0?a.splice(l,1)[0]:a.pop();return 0===a.length?n.delete(i):n.set(i,a),s&&s.wrapped?r(e,s.wrapped,t):r(e,i,t)}return r(e,i,t)}}();const c=()=>{window.ScrollTrigger&&setTimeout(()=>{i.toolbarActive=!1,r();try{i.originalRefresh.call(ScrollTrigger)}catch(l){}},350)};try{window.addEventListener("orientationchange",c,{passive:!0})}catch(l){}}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{window.AnimationManager.init()}):window.AnimationManager.init()}();
//# sourceMappingURL=anim-init.js.map